<div class="home-page">
  <div class="test" scrollable (scrollPosition)="scrollHandler($event)">
    <div class="top-block">
      <div class="top-block-inner" fxLayout="column">
        <span class="title-text">
          BUILD YOUR PROFILE.
          SHOWCASE YOUR TALENT
        </span>
        <div class="search-block">
          <div class="search-input">
            <input type="text" [formControl]="searchControl" placeholder="Search">
            <img src="/assets/icons/search-icon.svg" alt="">
          </div>
          <button pButton type="button" class="ui-button-secondary" label="Фильтр" [ngClass]="{active: isShow}" (click)="isShow = !isShow">
            <img src="/assets/icons/filter-icon.svg" alt="">
          </button>
        </div>
      </div>
      <mat-card [@toggleHeight]="isShow" class="filter-block" [formGroup]="searchGroup">
        <div class="filter-elements">
          <mat-checkbox [value]="withAssessment" (change)="changeAssessment()">With assessment </mat-checkbox>
          <mat-checkbox [value]="withPortfolio" (change)="changePortfolio()">With portfolio</mat-checkbox>
          <mat-form-field class="about-me__input" appearance="outline">
            <mat-label>Preferred employment type</mat-label>
            <mat-select formControlName="employmentType">
              <mat-option *ngFor="let item of times" [value]="item.value">
                {{item.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="about-me__input" appearance="outline">
            <mat-label>Specializations</mat-label>
            <mat-select formControlName="specializations">
              <mat-option *ngFor="let item of specialize" [value]="item.value">
                {{item.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </mat-card>
    </div>
    <div class="items-block">
      <div class="content">
        <ng-container *ngFor="let item of listItems; let index = index; let last= last;">
          <mat-card (click)="onClick($event)">
            <div class="item-header">
              <div class="photo-item">
                <img [src]="item.avatar" alt="">
                <div class="name-item">{{item.name}}</div>
              </div>
            </div>
            <video width="100%" height="100%" controls [attr.poster]="item.poster" [style.pointer-events]="currentUser ? 'auto' : 'none'">
              <source
                [attr.src]="item.video?.object?.fileUrl"
                type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </mat-card>

          <div class="leave-feedback">
            <button class="leave-feedback-button" mat-raised-button color="warn">Leave feedback</button>
          </div>

          <div *ngIf="index+1 == 10 || (last && advers)" class="advertising-block">
            <img width="100%" src="/assets/images/reklama.jpg" alt="">
          </div>

        </ng-container>
      </div>


    </div>
  </div>


</div>
